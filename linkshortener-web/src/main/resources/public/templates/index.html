<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes"/>

  <title>opt.is linkshortener</title>

  <link href="http://fonts.googleapis.com/css?family=Open+Sans:400,300,700" rel="stylesheet"
        type="text/css"/>
  <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css" rel="stylesheet"
        media="screen"/>
  <link href="../css/app.css" th:href="@{/css/app.css}" rel="stylesheet" media="screen"/>
</head>

<body ng-app="linkApp">

<div ng-controller="LinkController">
  <div class="alerts" ng-show="notifications.length > 0">
    <div class="alert" ng-repeat="notification in notifications">
      <div>{{notification}}</div>
    </div>
  </div>

  <div class="center">
    <h1 class="text-center">opt<span class="highlight">.</span>is</h1>

    <form class="form-group form-horizontal">
      <input id="longUrl" type="url" name="url" class="form-control input-lg"
             placeholder="e.g. http://www.google.be" required
             ng-model="longUrl" ng-class="{'has-error': form.url.$dirty && form.url.$invalid}"/>
      <span class="help-block" ng-show="form.url.$dirty && form.url.$error.required">Please enter a valid URL</span>
      &nbsp;
      <button class="btn btn-block btn-primary btn-lg" ng-click="shorten(longUrl)">Shorten!</button>
    </form>
    &nbsp;

    <div id="result" class="bg-primary link" ng-show="link.shortUrl" ng-cloak>
      <div class="pull-left">
        <a ng-href="{{link.shortUrl}}">{{link.shortUrl}}</a>
      </div>
      <div class="pull-right">
        <span class="glyphicon glyphicon-stats"></span> 5
      </div>
      <div class="clearfix"></div>
    </div>
  </div>
</div>

<script src="//cdn.jsdelivr.net/webjars/angularjs/1.3.13/angular.min.js"></script>
<script src="//cdn.jsdelivr.net/jquery/2.1.3/jquery.min.js"></script>
<script type="text/javascript" th:src="@{/js/lib/angular-noty.dist.js}"></script>
<script src="//cdn.jsdelivr.net/noty/2.2.2/layouts/topCenter.js"></script>

<script type="text/javascript" th:src="@{/js/app.js?v=${build.timestamp}}"></script>
<script type="text/javascript" th:src="@{/js/NotificationService.js}"></script>
<script type="text/javascript" th:src="@{/js/LinkService.js}"></script>
<script type="text/javascript" th:src="@{/js/LinkController.js}"></script>
</body>

</html>
